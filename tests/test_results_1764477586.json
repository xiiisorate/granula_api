{
  "timestamp": "2025-11-30T07:39:46.834764",
  "api_base": "https://api.granula.raitokyokai.tech/api/v1",
  "test_email": "debug_1764477586@test.ru",
  "steps": [
    {
      "label": "POST /auth/register",
      "status_code": 201,
      "url": "https://api.granula.raitokyokai.tech/api/v1/auth/register",
      "body": {
        "data": {
          "user_id": "bbe90579-cde9-4ad6-8d0d-445ef770efaa",
          "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYmJlOTA1NzktY2RlOS00YWQ2LThkMGQtNDQ1ZWY3NzBlZmFhIiwiZW1haWwiOiJkZWJ1Z18xNzY0NDc3NTg2QHRlc3QucnUiLCJyb2xlIjoidXNlciIsImV4cCI6MTc2NDQ3ODQ4OCwibmJmIjoxNzY0NDc3NTg4LCJpYXQiOjE3NjQ0Nzc1ODh9.ZuictP_Z9q1YMgV05Qj2Jztrok3Mxab4FsizsHK_Bqs",
          "refresh_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoiYmJlOTA1NzktY2RlOS00YWQ2LThkMGQtNDQ1ZWY3NzBlZmFhIiwiZW1haWwiOiJkZWJ1Z18xNzY0NDc3NTg2QHRlc3QucnUiLCJyb2xlIjoidXNlciIsImV4cCI6MTc2NTA4MjM4OCwibmJmIjoxNzY0NDc3NTg4LCJpYXQiOjE3NjQ0Nzc1ODgsImp0aSI6ImEwNGQ3NDA1LTkxMjgtNGE2Yy1iMTMwLWY0YzkyY2Q0MjM1NyJ9.fKZL5uOR6HG9ho6cl8Vb_jgIhojeFz1aTJWlM3H9p6I",
          "expires_in": 900
        },
        "message": "User registered successfully",
        "request_id": "3f9fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "POST /workspaces",
      "status_code": 201,
      "url": "https://api.granula.raitokyokai.tech/api/v1/workspaces",
      "body": {
        "data": {
          "address": "",
          "created_at": "2025-11-30T04:39:50.086859785Z",
          "description": "Тест распознавания",
          "floor_plans_count": 0,
          "id": "1871a882-13e1-42f6-b8b4-12dea750e51c",
          "members": [
            {
              "avatar_url": "",
              "email": "",
              "invited_by": "00000000-0000-0000-0000-000000000000",
              "joined_at": "2025-11-30T04:39:50.086859785Z",
              "name": "",
              "role": "owner",
              "user_id": "bbe90579-cde9-4ad6-8d0d-445ef770efaa"
            }
          ],
          "name": "Debug Workspace 1764477586",
          "owner_id": "bbe90579-cde9-4ad6-8d0d-445ef770efaa",
          "preview_url": "",
          "rooms_count": 0,
          "scenes_count": 0,
          "settings": {
            "auto_compliance_check": false,
            "currency": "",
            "default_ceiling_height": 0,
            "default_wall_thickness": 0,
            "notifications_enabled": false,
            "project_type": "",
            "property_type": "",
            "region": "",
            "units": "metric"
          },
          "status": "unknown",
          "total_area": 0,
          "updated_at": "2025-11-30T04:39:50.086880915Z"
        },
        "message": "Workspace created successfully",
        "request_id": "409fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "POST /floor-plans",
      "status_code": 201,
      "url": "https://api.granula.raitokyokai.tech/api/v1/floor-plans",
      "body": {
        "data": {
          "created_at": "2025-11-30T04:39:52.418972885Z",
          "description": "",
          "file_info": {
            "height": 0,
            "id": "c7fd8c93-1beb-40a3-b0c4-a2b9a5b5fb6c",
            "mime_type": "image/jpeg",
            "original_name": "1.jpg",
            "size": 574840,
            "width": 0
          },
          "id": "6f666e87-2c22-46da-b45b-dc61219db445",
          "name": "План 1.jpg",
          "owner_id": "bbe90579-cde9-4ad6-8d0d-445ef770efaa",
          "status": "uploaded",
          "updated_at": "2025-11-30T04:39:52.418972885Z",
          "workspace_id": "1871a882-13e1-42f6-b8b4-12dea750e51c"
        },
        "message": "Floor plan uploaded successfully",
        "request_id": "419fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "POST /ai/recognize",
      "status_code": 200,
      "url": "https://api.granula.raitokyokai.tech/api/v1/ai/recognize",
      "body": {
        "data": {
          "confidence": 0,
          "error": "",
          "job_id": "be7b294b-980d-40bb-a97a-8342ada4ce10",
          "status": "pending",
          "success": true,
          "warnings": null
        },
        "request_id": "459fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "GET /ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "status_code": 200,
      "url": "https://api.granula.raitokyokai.tech/api/v1/ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "body": {
        "data": {
          "error": "",
          "job_id": "be7b294b-980d-40bb-a97a-8342ada4ce10",
          "progress": 30,
          "status": "processing"
        },
        "request_id": "469fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "GET /ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "status_code": 200,
      "url": "https://api.granula.raitokyokai.tech/api/v1/ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "body": {
        "data": {
          "error": "",
          "job_id": "be7b294b-980d-40bb-a97a-8342ada4ce10",
          "progress": 30,
          "status": "processing"
        },
        "request_id": "479fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "GET /ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "status_code": 200,
      "url": "https://api.granula.raitokyokai.tech/api/v1/ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "body": {
        "data": {
          "error": "",
          "job_id": "be7b294b-980d-40bb-a97a-8342ada4ce10",
          "progress": 30,
          "status": "processing"
        },
        "request_id": "509fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "GET /ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "status_code": 200,
      "url": "https://api.granula.raitokyokai.tech/api/v1/ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "body": {
        "data": {
          "error": "",
          "job_id": "be7b294b-980d-40bb-a97a-8342ada4ce10",
          "progress": 30,
          "status": "processing"
        },
        "request_id": "519fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "GET /ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "status_code": 200,
      "url": "https://api.granula.raitokyokai.tech/api/v1/ai/recognize/be7b294b-980d-40bb-a97a-8342ada4ce10/status",
      "body": {
        "data": {
          "error": "",
          "job_id": "be7b294b-980d-40bb-a97a-8342ada4ce10",
          "progress": 100,
          "result": {
            "dimensions": {
              "height": 9.2,
              "width": 17.52
            },
            "elements": [],
            "metadata": {
              "detected_orientation": 0,
              "detected_scale": 0,
              "model_version": "1.0.0",
              "processing_time_ms": 16519
            },
            "openings": [
              {
                "confidence": 0.9,
                "position": {
                  "x": 0,
                  "y": 0
                },
                "temp_id": "opening_001",
                "type": "door",
                "wall_id": "",
                "width": 0.9
              },
              {
                "confidence": 0.8,
                "position": {
                  "x": 0,
                  "y": 0
                },
                "temp_id": "opening_002",
                "type": "window",
                "wall_id": "",
                "width": 1.5
              }
            ],
            "rooms": [
              {
                "area": 9.8,
                "confidence": 0.8,
                "is_wet_zone": false,
                "temp_id": "room_001",
                "type": "hallway",
                "wall_ids": null
              },
              {
                "area": 4.3,
                "confidence": 0.9,
                "is_wet_zone": true,
                "temp_id": "room_002",
                "type": "unknown",
                "wall_ids": null
              },
              {
                "area": 10,
                "confidence": 0.9,
                "is_wet_zone": true,
                "temp_id": "room_003",
                "type": "kitchen",
                "wall_ids": null
              }
            ],
            "total_area": 78.5,
            "walls": [
              {
                "confidence": 0.9,
                "end": {
                  "x": 17.52,
                  "y": 0
                },
                "is_load_bearing": true,
                "load_bearing_confidence": 0,
                "start": {
                  "x": 0,
                  "y": 0
                },
                "temp_id": "wall_001",
                "thickness": 0.4
              },
              {
                "confidence": 0.9,
                "end": {
                  "x": 17.52,
                  "y": 9.2
                },
                "is_load_bearing": true,
                "load_bearing_confidence": 0,
                "start": {
                  "x": 0,
                  "y": 9.2
                },
                "temp_id": "wall_002",
                "thickness": 0.4
              }
            ]
          },
          "status": "completed"
        },
        "request_id": "529fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "POST /workspaces/1871a882-13e1-42f6-b8b4-12dea750e51c/scenes",
      "status_code": 201,
      "url": "https://api.granula.raitokyokai.tech/api/v1/workspaces/1871a882-13e1-42f6-b8b4-12dea750e51c/scenes",
      "body": {
        "data": {
          "created_at": "2025-11-30T04:40:19.519392191Z",
          "description": "Created from recognition result",
          "dimensions": {
            "height": 0,
            "width": 0
          },
          "floor_plan_id": "6f666e87-2c22-46da-b45b-dc61219db445",
          "id": "8b7132d8-08de-4ba9-8be8-f944faf88553",
          "main_branch_id": "8ef2b850-d9f9-44f9-9f4a-b47228282e81",
          "name": "Scene from 1.jpg",
          "owner_id": "bbe90579-cde9-4ad6-8d0d-445ef770efaa",
          "updated_at": "2025-11-30T04:40:19.519392191Z",
          "workspace_id": "1871a882-13e1-42f6-b8b4-12dea750e51c"
        },
        "message": "Scene created successfully",
        "request_id": "539fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "GET /scenes/8b7132d8-08de-4ba9-8be8-f944faf88553",
      "status_code": 200,
      "url": "https://api.granula.raitokyokai.tech/api/v1/scenes/8b7132d8-08de-4ba9-8be8-f944faf88553",
      "body": {
        "data": {
          "created_at": "2025-11-30T04:40:19.519Z",
          "description": "Created from recognition result",
          "dimensions": {
            "height": 0,
            "width": 0
          },
          "floor_plan_id": "6f666e87-2c22-46da-b45b-dc61219db445",
          "id": "8b7132d8-08de-4ba9-8be8-f944faf88553",
          "main_branch_id": "8ef2b850-d9f9-44f9-9f4a-b47228282e81",
          "name": "Scene from 1.jpg",
          "owner_id": "bbe90579-cde9-4ad6-8d0d-445ef770efaa",
          "updated_at": "2025-11-30T04:40:19.519Z",
          "workspace_id": "1871a882-13e1-42f6-b8b4-12dea750e51c"
        },
        "request_id": "549fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    },
    {
      "label": "POST /ai/chat",
      "status_code": 200,
      "url": "https://api.granula.raitokyokai.tech/api/v1/ai/chat",
      "body": {
        "data": {
          "actions": [],
          "context_id": "d91ce3c7-a5c3-46de-b3b1-8c2324997955",
          "generation_time_ms": 2789,
          "message_id": "8ef51659-d094-48b6-926c-162eab71827f",
          "response": "Для того чтобы ответить на ваш вопрос, нужно уточнить несколько деталей:\n\n1. **Тип кухни**: Если кухня газифицирована, то снос стены без установки раздвижной перегородки запрещён. Между кухней с газом и жилой комнатой должна быть дверь или раздвижная перегородка.\n\n2. **Несущая стенка**: Если стена несущая, её снос категорически запрещён без проекта усиления. Несущие стены обычно имеют толщину 20 см и более.\n\n3. **Тип плиты**: Если кухня электрическая и стена не несущая, то её снос возможен в уведомительном порядке.\n\nПожалуйста, уточните, газифицирована ли кухня и является ли стена несущей, чтобы я мог дать более точный ответ.",
          "token_usage": {
            "completion_tokens": 174,
            "prompt_tokens": 1812,
            "total_tokens": 1986
          }
        },
        "request_id": "559fb5c3-864d-42f8-a78a-4d17c7879a21"
      }
    }
  ],
  "recognition_result": {
    "dimensions": {
      "height": 9.2,
      "width": 17.52
    },
    "elements": [],
    "metadata": {
      "detected_orientation": 0,
      "detected_scale": 0,
      "model_version": "1.0.0",
      "processing_time_ms": 16519
    },
    "openings": [
      {
        "confidence": 0.9,
        "position": {
          "x": 0,
          "y": 0
        },
        "temp_id": "opening_001",
        "type": "door",
        "wall_id": "",
        "width": 0.9
      },
      {
        "confidence": 0.8,
        "position": {
          "x": 0,
          "y": 0
        },
        "temp_id": "opening_002",
        "type": "window",
        "wall_id": "",
        "width": 1.5
      }
    ],
    "rooms": [
      {
        "area": 9.8,
        "confidence": 0.8,
        "is_wet_zone": false,
        "temp_id": "room_001",
        "type": "hallway",
        "wall_ids": null
      },
      {
        "area": 4.3,
        "confidence": 0.9,
        "is_wet_zone": true,
        "temp_id": "room_002",
        "type": "unknown",
        "wall_ids": null
      },
      {
        "area": 10,
        "confidence": 0.9,
        "is_wet_zone": true,
        "temp_id": "room_003",
        "type": "kitchen",
        "wall_ids": null
      }
    ],
    "total_area": 78.5,
    "walls": [
      {
        "confidence": 0.9,
        "end": {
          "x": 17.52,
          "y": 0
        },
        "is_load_bearing": true,
        "load_bearing_confidence": 0,
        "start": {
          "x": 0,
          "y": 0
        },
        "temp_id": "wall_001",
        "thickness": 0.4
      },
      {
        "confidence": 0.9,
        "end": {
          "x": 17.52,
          "y": 9.2
        },
        "is_load_bearing": true,
        "load_bearing_confidence": 0,
        "start": {
          "x": 0,
          "y": 9.2
        },
        "temp_id": "wall_002",
        "thickness": 0.4
      }
    ]
  },
  "scene_data": {
    "created_at": "2025-11-30T04:40:19.519Z",
    "description": "Created from recognition result",
    "dimensions": {
      "height": 0,
      "width": 0
    },
    "floor_plan_id": "6f666e87-2c22-46da-b45b-dc61219db445",
    "id": "8b7132d8-08de-4ba9-8be8-f944faf88553",
    "main_branch_id": "8ef2b850-d9f9-44f9-9f4a-b47228282e81",
    "name": "Scene from 1.jpg",
    "owner_id": "bbe90579-cde9-4ad6-8d0d-445ef770efaa",
    "updated_at": "2025-11-30T04:40:19.519Z",
    "workspace_id": "1871a882-13e1-42f6-b8b4-12dea750e51c"
  },
  "summary": {
    "success": true,
    "errors": []
  },
  "test_image": "1.jpg",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkI...",
  "workspace_id": "1871a882-13e1-42f6-b8b4-12dea750e51c",
  "floor_plan_id": "6f666e87-2c22-46da-b45b-dc61219db445",
  "job_id": "be7b294b-980d-40bb-a97a-8342ada4ce10",
  "scene_id": "8b7132d8-08de-4ba9-8be8-f944faf88553",
  "chat_response": "Для того чтобы ответить на ваш вопрос, нужно уточнить несколько деталей:\n\n1. **Тип кухни**: Если кухня газифицирована, то снос стены без установки раздвижной перегородки запрещён. Между кухней с газом и жилой комнатой должна быть дверь или раздвижная перегородка.\n\n2. **Несущая стенка**: Если стена несущая, её снос категорически запрещён без проекта усиления. Несущие стены обычно имеют толщину 20 см и более.\n\n3. **Тип плиты**: Если кухня электрическая и стена не несущая, то её снос возможен в уве"
}